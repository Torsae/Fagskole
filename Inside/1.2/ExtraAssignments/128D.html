<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>128 D</title>
</head>

<body>
    <div id="app"></div>

    <script>

        // ROCK PAPER SCISSOR
        updateView("");
        function updateView() {
            document.getElementById("app").innerHTML = /*HTML*/`
            <button onclick='play(0)'>Rock</button>
            <button onclick='play(1)'>Paper</button>
            <button onclick='play(2)'>Scissor</button>
            <div id="choices"></div>
            <div id="result"></div>
            `;
        }
        // getRandomNumber
        function getRandomNumber() {
            return Math.floor(Math.random() * 3);
        }

        function play(playerChoice) {
            document.getElementById("choices").innerHTML = ""; // reset text
            let enemyChoice = getRandomNumber();
            printChoices("Player", playerChoice);
            printChoices("Enemy", enemyChoice);
            decideWinner(playerChoice, enemyChoice);
        }

        function decideWinner(playerChoice, enemyChoice) {
            let result = document.getElementById("result");
            if (playerChoice == enemyChoice) {                 // example: 1 == 1 = true
                result.innerHTML = "Draw!"
            } else if ((playerChoice + 2) % 3 == enemyChoice) {// example: player = 3, enemy = 1, max = 3. (player + 1 = 3-->1), 1 == 1 = true.
                result.innerHTML = "You win!"
            } else if ((playerChoice + 1) % 3 == enemyChoice) {// example: player = 2, enemy = 1, max = 3. (player + 2 = 2-->3-->1), 1 == 1 = true.
                result.innerHTML = "You lost!"  // print result
            }
        }

        function printChoices(name, input) {
            if (input == 0) { input = "Rock" }
            else if (input == 1) { input = "Paper" }
            else if (input == 2) { input = "Scissor" }
            
            document.getElementById("choices").innerHTML += /*HTML*/`
            ${name} chose: ${input}<br/>
            `;
        }

    </script>
</body>

</html>